@model WebCrawler.Core.Models.Users
@{
    ViewData["Title"] = "AddUpdateUser";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800"> <i class="fas fa-fw fa-laptop-code"></i> Scrapper</h1>

    </div>


    <!-- Content Row -->
    <div class="row">
        <div class="col-lg-12">
            <!-- Dropdown Card Example -->
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <div>
                        @if (Model != null && !String.IsNullOrEmpty(Model.FirstName))
                        {
                            <b>@Model.FirstName </b>@Model.LastName
                        }

                    </div>

                    <div class="dropdown no-arrow">
                        <a class="" style="text-decoration:none" href="/Users/AddUpdateUser?userId=0" aria-expanded="false">
                            <i class="fas fa-fw fa-user"></i> &nbsp; Add New User
                        </a>
                    </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">

                    <div class="row">

                        <div class="col-lg-8">


                            @using (Html.BeginForm("AddUpdateUser", "Users", FormMethod.Post))
                            {

                                <div class="row">
                                    <div class="col-lg-4">

                                        <input type="text"name="UserId" value="@(Model!=null?Model.UserId:0)"style="display:none" />

                                        <div class="form-group">
                                            <label>First Name</label>
                                            <input type="text" name="FirstName" class="form-control" value="@(Model!=null?Model.FirstName:"")" required/>
                                        </div>

                                        <div class="form-group">
                                            <label>Username</label>
                                            <input type="text" value="@(Model!=null?Model.UserName:"")" name="UserName" class="form-control" required/>
                                        </div>

                                        <div class="form-group">
                                            <label>Password</label>
                                            <input name="Password" type="text" class="form-control" />
                                        </div>


                                    </div>


                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label>Last Name</label>
                                            <input type="text" name="LastName" value="@(Model!=null?Model.LastName:"")" class="form-control" required/>
                                        </div>

                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" name="Email" value="@(Model!=null?Model.Email:"")" class="form-control" required/>
                                        </div>


                                        <input type="text" id="_active" value="1" name="IsActive" style="display:none" />
                                        <input type="text" id="_verified" value="1" name="IsVerified" style="display:none" />
                                        <input type="text" id="_role" value="1" name="UserRoleId" style="display:none" />

                                        <div class="form-group">

                                           

                                                @if (Model !=null && Model.IsActive == 1)
                                                {
                                                    <input type="checkbox" id="active" name="IsAcdtive" checked /> @:Is Active?

                                                }
                                                else
                                                {
                                                    <input type="checkbox" id="active" name="IsAdctive" /> @:Is Active?
                                                }


                                                <br />

                                                @if (Model !=null&& Model.IsVerified == 1)
                                                {
                                                    <input type="checkbox" id="verified" name="IsVerified" checked /> @:Verified?
                                                }
                                                else
                                                {
                                                    <input type="checkbox" id="verified" name="IsVerfied" /> @:Verified?
                                                }

                                                <br />

                                                @if (Model !=null&& Model.UserRoleId == 1)
                                                {
                                                    <input type="checkbox" id="role" name="UserRoleId" checked /> @:Is Admin?
                                                }
                                                else
                                                {
                                                    <input type="checkbox" id="role" name="UserRoleId" /> @:Is Admin?
                                                }





                                            
                                        </div>

                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-8">
                                        <div class="form-group">
                                            <button style="width:100%" type="submit" class="btn btn-primary">
                                                @if (Model!=null && Model.UserId > 0)
                                                {
                                                    @: Update User
                                                }
                                                else
                                                {
                                                    @:Add User
                                                }


                                            </button>
                                        </div>
                                    </div>

                                </div>


                            }


                        </div>



                    </div>




                </div>

            </div>

        </div>




    </div>
</div>

@section scripts{

    <script>

        $('#active').click(function () {

            
            if ($(this).prop("checked") == true) {
                $('#_active').val("1");
            }
            else {
               $('#_active').val("0");
            }

        });


         $('#verified').click(function () {

            
            if ($(this).prop("checked") == true) {
                $('#_verified').val("1");
            }
            else {
               $('#_verified').val("0");
            }

        });

        
         $('#role').click(function () {

            
            if ($(this).prop("checked") == true) {
                $('#_role').val("1");
            }
            else {
               $('#_vrole').val("2");
            }

        });





    </script>
        }

